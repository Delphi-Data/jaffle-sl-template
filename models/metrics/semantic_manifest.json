{"semantic_models": [{"name": "orders", "description": "Model containting order data. The grain of the table is the order id. \n", "node_relation": {"alias": "orders", "schema_name": "dbt_sl_test", "database": null, "relation_name": "dbt_sl_test.orders"}, "entities": [{"name": "order", "description": null, "type": "primary", "role": null, "expr": "order_id", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order\ntype: primary\nexpr: order_id\n", "start_line_number": 14, "end_line_number": 16}}}, {"name": "location", "description": null, "type": "foreign", "role": null, "expr": "location_id", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: location\ntype: foreign\nexpr: location_id\n", "start_line_number": 17, "end_line_number": 19}}}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_id", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: customer\ntype: foreign\nexpr: customer_id\n", "start_line_number": 20, "end_line_number": 24}}}], "measures": [{"name": "order_total", "agg": "sum", "description": null, "create_metric": true, "expr": null, "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order_total\nagg: sum\ncreate_metric: True\n", "start_line_number": 26, "end_line_number": 28}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "food_orders", "agg": "sum", "description": null, "create_metric": null, "expr": "case when is_food_order then order_total else 0 end", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: food_orders\nexpr: case when is_food_order then order_total else 0 end\nagg: sum\n", "start_line_number": 29, "end_line_number": 31}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "orders", "agg": "sum", "description": null, "create_metric": null, "expr": "1", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: orders\nexpr: 1\nagg: sum\n", "start_line_number": 32, "end_line_number": 34}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "max_order_value", "agg": "max", "description": null, "create_metric": null, "expr": "order_total", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: max_order_value\nexpr: order_total\nagg: max\n", "start_line_number": 35, "end_line_number": 37}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "min_order_value", "agg": "min", "description": null, "create_metric": null, "expr": "order_total", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: min_order_value\nexpr: order_total\nagg: min\n", "start_line_number": 38, "end_line_number": 40}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "customers", "agg": "count_distinct", "description": null, "create_metric": null, "expr": "customer_id", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: customers\nexpr: customer_id\nagg: count_distinct\n", "start_line_number": 41, "end_line_number": 43}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "average_order_value", "agg": "average", "description": null, "create_metric": null, "expr": "order_total", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: average_order_value\nexpr: order_total\nagg: average\n", "start_line_number": 44, "end_line_number": 46}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "order_cost", "agg": "sum", "description": null, "create_metric": null, "expr": null, "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order_cost\nagg: sum\n", "start_line_number": 47, "end_line_number": 48}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "locations_with_orders", "agg": "count_distinct", "description": null, "create_metric": true, "expr": "location_id", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: locations_with_orders\nexpr: location_id\nagg: count_distinct\ncreate_metric: true\n", "start_line_number": 49, "end_line_number": 52}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "median_order_valie", "agg": "percentile", "description": null, "create_metric": true, "expr": "order_total", "agg_params": {"percentile": 0.5, "use_discrete_percentile": false, "use_approximate_percentile": false}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: median_order_valie\nexpr: order_total\nagg: median\ncreate_metric: true\n", "start_line_number": 53, "end_line_number": 56}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "order_value_p99", "agg": "percentile", "description": null, "create_metric": true, "expr": "order_total", "agg_params": {"percentile": 0.99, "use_discrete_percentile": false, "use_approximate_percentile": false}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order_value_p99\nexpr: order_total\nagg: percentile\nagg_params:\n  percentile: 0.99\ncreate_metric: true\n", "start_line_number": 57, "end_line_number": 62}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "discrete_order_value_p99", "agg": "percentile", "description": null, "create_metric": true, "expr": "order_total", "agg_params": {"percentile": 0.99, "use_discrete_percentile": true, "use_approximate_percentile": false}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: discrete_order_value_p99\nexpr: order_total\nagg: percentile\nagg_params:\n  percentile: 0.99\n  use_discrete_percentile: true\ncreate_metric: true\n", "start_line_number": 63, "end_line_number": 71}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}], "dimensions": [{"name": "location_name", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: location_name\ntype: categorical\n", "start_line_number": 73, "end_line_number": 74}}}, {"name": "ds", "description": null, "type": "time", "is_partition": false, "type_params": {"is_primary": true, "time_granularity": "day", "validity_params": null}, "expr": "ordered_at", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: ds\nexpr: ordered_at\ntype: time\ntype_params:\n  is_primary: True\n  time_granularity: day\n", "start_line_number": 75, "end_line_number": 80}}}, {"name": "is_food_order", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: is_food_order\ntype: categorical\n", "start_line_number": 81, "end_line_number": 82}}}, {"name": "is_drink_order", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: is_drink_order\ntype: categorical\n", "start_line_number": 83, "end_line_number": 84}}}, {"name": "order_total", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order_total\ntype: categorical\n", "start_line_number": 85, "end_line_number": 88}}}], "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: orders\ndescription: \"Model containting order data. The grain of the table is the order id.\\\n  \\ \\n\"\nnode_relation:\n  schema_name: dbt_sl_test\n  alias: orders\nentities:\n- name: order\n  type: primary\n  expr: order_id\n- name: location\n  type: foreign\n  expr: location_id\n- name: customer\n  type: foreign\n  expr: customer_id\nmeasures:\n- name: order_total\n  agg: sum\n  create_metric: True\n- name: food_orders\n  expr: case when is_food_order then order_total else 0 end\n  agg: sum\n- name: orders\n  expr: 1\n  agg: sum\n- name: max_order_value\n  expr: order_total\n  agg: max\n- name: min_order_value\n  expr: order_total\n  agg: min\n- name: customers\n  expr: customer_id\n  agg: count_distinct\n- name: average_order_value\n  expr: order_total\n  agg: average\n- name: order_cost\n  agg: sum\n- name: locations_with_orders\n  expr: location_id\n  agg: count_distinct\n  create_metric: true\n- name: median_order_valie\n  expr: order_total\n  agg: median\n  create_metric: true\n- name: order_value_p99\n  expr: order_total\n  agg: percentile\n  agg_params:\n    percentile: 0.99\n  create_metric: true\n- name: discrete_order_value_p99\n  expr: order_total\n  agg: percentile\n  agg_params:\n    percentile: 0.99\n    use_discrete_percentile: true\n  create_metric: true\ndimensions:\n- name: location_name\n  type: categorical\n- name: ds\n  expr: ordered_at\n  type: time\n  type_params:\n    is_primary: True\n    time_granularity: day\n- name: is_food_order\n  type: categorical\n- name: is_drink_order\n  type: categorical\n- name: order_total\n  type: categorical\n", "start_line_number": 4, "end_line_number": 88}}}, {"name": "customers", "description": "Customer dimension table. The grain of the table is one row per customer.\n", "node_relation": {"alias": "customers", "schema_name": "dbt_sl_test", "database": null, "relation_name": "dbt_sl_test.customers"}, "entities": [{"name": "customer", "description": null, "type": "primary", "role": null, "expr": "customer_id", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: customer\ntype: primary\nexpr: customer_id\n", "start_line_number": 14, "end_line_number": 18}}}], "measures": [], "dimensions": [{"name": "customer_name", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: customer_name\ntype: categorical\n", "start_line_number": 20, "end_line_number": 21}}}, {"name": "count_lifetime_orders", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: count_lifetime_orders\ntype: categorical\n", "start_line_number": 22, "end_line_number": 23}}}, {"name": "lifetime_spend_pre_tax", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: lifetime_spend_pre_tax\ntype: categorical\n", "start_line_number": 24, "end_line_number": 25}}}, {"name": "lifetime_spend", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: lifetime_spend\ntype: categorical\n", "start_line_number": 26, "end_line_number": 27}}}, {"name": "customer_type", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: customer_type\ntype: categorical\n", "start_line_number": 28, "end_line_number": 29}}}, {"name": "first_ordered_at", "description": null, "type": "time", "is_partition": false, "type_params": {"is_primary": false, "time_granularity": "day", "validity_params": null}, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: first_ordered_at\ntype: time\ntype_params:\n  is_primary: false\n  time_granularity: day\n", "start_line_number": 30, "end_line_number": 34}}}, {"name": "last_ordered_at", "description": null, "type": "time", "is_partition": false, "type_params": {"is_primary": false, "time_granularity": "day", "validity_params": null}, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: last_ordered_at\ntype: time\ntype_params:\n  is_primary: false\n  time_granularity: day\n", "start_line_number": 35, "end_line_number": 39}}}], "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: customers\ndescription: |\n  Customer dimension table. The grain of the table is one row per customer.\nnode_relation:\n  schema_name: dbt_sl_test\n  alias: customers\nentities:\n- name: customer\n  type: primary\n  expr: customer_id\ndimensions:\n- name: customer_name\n  type: categorical\n- name: count_lifetime_orders\n  type: categorical\n- name: lifetime_spend_pre_tax\n  type: categorical\n- name: lifetime_spend\n  type: categorical\n- name: customer_type\n  type: categorical\n- name: first_ordered_at\n  type: time\n  type_params:\n    is_primary: false\n    time_granularity: day\n- name: last_ordered_at\n  type: time\n  type_params:\n    is_primary: false\n    time_granularity: day\n", "start_line_number": 4, "end_line_number": 39}}}], "metrics": [{"name": "east_coast_order_amount", "description": "Sum of orders from the east coast.", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "orders", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": {"where_sql_template": "\"{{dimension(location_name)}} in ('Philadelphia')\"\n"}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"east_coast_order_amount\"\ndescription: \"Sum of orders from the east coast.\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - orders\nfilter: |\n  \"{{dimension(location_name)}} in ('Philadelphia')\"\n", "start_line_number": 2, "end_line_number": 10}}}, {"name": "large_order", "description": "Sum of orders from the east coast.", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "orders", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": {"where_sql_template": "\"{{dimension(order_total)}} >= 20\"\n"}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"large_order\"\ndescription: \"Sum of orders from the east coast.\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - orders\nfilter: |\n  \"{{dimension(order_total)}} >= 20\"\n", "start_line_number": 13, "end_line_number": 20}}}, {"name": "food_order_amount", "description": "Sum order amoung for food orders.", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "food_orders", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"food_order_amount\"\ndescription: \"Sum order amoung for food orders.\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - food_orders\n", "start_line_number": 23, "end_line_number": 28}}}, {"name": "food_order_pct", "description": "The food cost as the % of the total order", "type": "ratio", "type_params": {"measure": null, "measures": null, "numerator": {"name": "food_orders", "filter": null, "alias": null}, "denominator": {"name": "order_total", "filter": null, "alias": null}, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"food_order_pct\"\ndescription: \"The food cost as the % of the total order\"\ntype: ratio\ntype_params:\n  numerator: food_orders\n  denominator: order_total\n", "start_line_number": 31, "end_line_number": 36}}}, {"name": "new_customer_order_pct", "description": "The food cost as the % of the total order", "type": "ratio", "type_params": {"measure": null, "measures": null, "numerator": {"name": "customers", "filter": {"where_sql_template": "\"{{dimension(customer_type, entity_path=['customer'])}} = 'new'\" \n"}, "alias": null}, "denominator": {"name": "customers", "filter": null, "alias": null}, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"new_customer_order_pct\"\ndescription: \"The food cost as the % of the total order\"\ntype: ratio\ntype_params:\n  numerator:\n    name: customers\n    filter: \"\\\"{{dimension(customer_type, entity_path=['customer'])}} = 'new'\\\" \\n\"\n  denominator: customers\n", "start_line_number": 40, "end_line_number": 48}}}, {"name": "order_gross_profit", "description": "The number of orders places", "type": "derived", "type_params": {"measure": null, "measures": [{"name": "food_orders", "filter": null, "alias": null}, {"name": "order_cost", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "revenue - cost", "window": null, "grain_to_date": null, "metrics": [{"name": "food_order_amount", "filter": null, "alias": "revenue", "offset_window": null, "offset_to_grain": null}, {"name": "order_amount", "filter": null, "alias": "cost", "offset_window": null, "offset_to_grain": null}]}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"order_gross_profit\"\ndescription: \"The number of orders places\"\ntype: derived\ntype_params:\n  expr: revenue - cost\n  metrics:\n  - name: food_order_amount\n    alias: revenue\n  - name: order_amount\n    alias: cost\n", "start_line_number": 52, "end_line_number": 61}}}, {"name": "food_order_pct_cumulative", "description": "Contrived example to show a ratio metric refrenced in a derviced metric", "type": "derived", "type_params": {"measure": null, "measures": [{"name": "food_orders", "filter": null, "alias": null}, {"name": "order_total", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "food_order_pct * 100", "window": null, "grain_to_date": null, "metrics": [{"name": "food_order_pct", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}]}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"food_order_pct_cumulative\"\ndescription: \"Contrived example to show a ratio metric refrenced in a derviced metric\"\ntype: derived\ntype_params:\n  expr: food_order_pct * 100\n  metrics:\n  - name: \"food_order_pct\"\n", "start_line_number": 65, "end_line_number": 71}}}, {"name": "cumlative_growth_mom", "description": "Contrived example to show a ratio metric refrenced in a derviced metric", "type": "derived", "type_params": {"measure": null, "measures": [{"name": "order_total", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "cumulative_order_amount/cumulative_order_amount_lm", "window": null, "grain_to_date": null, "metrics": [{"name": "cumulative_order_amount", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "cumulative_order_amount", "filter": null, "alias": "cumulative_order_amount_lm", "offset_window": {"count": 1, "granularity": "month"}, "offset_to_grain": null}]}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"cumlative_growth_mom\"\ndescription: \"Contrived example to show a ratio metric refrenced in a derviced metric\"\ntype: derived\ntype_params:\n  expr: cumulative_order_amount/cumulative_order_amount_lm\n  metrics:\n  - name: \"cumulative_order_amount\"\n  - name: \"cumulative_order_amount\"\n    offset_window: 1 month\n    alias: cumulative_order_amount_lm\n", "start_line_number": 75, "end_line_number": 84}}}, {"name": "food_order_gross_profit", "description": "The gross profit for each order", "type": "derived", "type_params": {"measure": null, "measures": [{"name": "order_cost", "filter": null, "alias": null}, {"name": "order_total", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "revenue - cost", "window": null, "grain_to_date": null, "metrics": [{"name": "order_total", "filter": {"where_sql_template": "{{dimension(is_food_order) = True}}"}, "alias": "revenue", "offset_window": null, "offset_to_grain": null}, {"name": "order_amount", "filter": {"where_sql_template": "{{dimension(is_food_order) = True}}"}, "alias": "cost", "offset_window": null, "offset_to_grain": null}]}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"food_order_gross_profit\"\ndescription: \"The gross profit for each order\"\ntype: derived\ntype_params:\n  expr: revenue - cost\n  metrics:\n  - name: order_total\n    alias: revenue\n    filter: \"{{dimension(is_food_order) = True}}\"\n  - name: order_amount\n    alias: cost\n    filter: \"{{dimension(is_food_order) = True}}\"\n", "start_line_number": 87, "end_line_number": 98}}}, {"name": "cumulative_order_amount", "description": "The cumulative value of all orders", "type": "cumulative", "type_params": {"measure": null, "measures": [{"name": "order_total", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"cumulative_order_amount\"\ndescription: \"The cumulative value of all orders\"\ntype: cumulative\ntype_params:\n  measures:\n  - order_total\n", "start_line_number": 102, "end_line_number": 107}}}, {"name": "cumulative_order_ammount_l1m", "description": "The cumulative value of all orders", "type": "cumulative", "type_params": {"measure": null, "measures": [{"name": "order_total", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": {"count": 1, "granularity": "month"}, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"cumulative_order_ammount_l1m\"\ndescription: \"The cumulative value of all orders\"\ntype: cumulative\ntype_params:\n  measures:\n  - order_total\n  window: 1 month\n", "start_line_number": 110, "end_line_number": 116}}}, {"name": "cumulative_order_amount_mtd", "description": "The cumulative value of all orders", "type": "cumulative", "type_params": {"measure": null, "measures": [{"name": "order_total", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": {"count": 1, "granularity": "month"}, "grain_to_date": "month", "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"cumulative_order_amount_mtd\"\ndescription: \"The cumulative value of all orders\"\ntype: cumulative\ntype_params:\n  measures:\n  - order_total\n  window: 1 month\n  grain_to_date: month\n", "start_line_number": 119, "end_line_number": 126}}}, {"name": "order_count", "description": "The number of orders places", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "orders", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"order_count\"\ndescription: \"The number of orders places\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - orders\n", "start_line_number": 129, "end_line_number": 134}}}, {"name": "max_order_amount", "description": "The highest order value for a given period", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "max_order_value", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"max_order_amount\"\ndescription: \"The highest order value for a given period\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - max_order_value\n", "start_line_number": 137, "end_line_number": 142}}}, {"name": "min_order_amount", "description": "The lowest order value for a given period", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "min_order_value", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"min_order_amount\"\ndescription: \"The lowest order value for a given period\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - min_order_value\n", "start_line_number": 145, "end_line_number": 150}}}, {"name": "customers_with_orders", "description": "Unique count of customers placing orders", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "customers", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"customers_with_orders\"\ndescription: \"Unique count of customers placing orders\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - customers\n", "start_line_number": 153, "end_line_number": 158}}}, {"name": "returning_customers_with_orders", "description": "Unique count of customers placing orders", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "customers", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": {"where_sql_template": "{{ dimension('customer_type', entity_path=['customer']) }} = 'returning'"}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"returning_customers_with_orders\"\ndescription: \"Unique count of customers placing orders\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - customers\nfilter: \"{{ dimension('customer_type', entity_path=['customer']) }} = 'returning'\"\n", "start_line_number": 161, "end_line_number": 167}}}, {"name": "new_customer_with_orders", "description": "Unique count of customers placing orders", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "customers", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": {"where_sql_template": "{{ dimension('customer_type', entity_path=['customer']) }} = 'new'"}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"new_customer_with_orders\"\ndescription: \"Unique count of customers placing orders\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - customers\nfilter: \"{{ dimension('customer_type', entity_path=['customer']) }} = 'new'\"\n", "start_line_number": 170, "end_line_number": 176}}}, {"name": "average_order_amount", "description": "The average order value", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "average_order_value", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"average_order_amount\"\ndescription: \"The average order value\"\ntype: measure_proxy\ntype_params:\n  measures:\n  - average_order_value\n", "start_line_number": 179, "end_line_number": 184}}}, {"name": "order_amount", "description": "The cost of fulfilling each order", "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "order_cost", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"order_amount\"\ndescription: The cost of fulfilling each order\ntype: measure_proxy\ntype_params:\n  measures:\n  - order_cost\n", "start_line_number": 187, "end_line_number": 192}}}, {"name": "order_total", "description": null, "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "order_total", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "order_total", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}, {"name": "locations_with_orders", "description": null, "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "locations_with_orders", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "locations_with_orders", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}, {"name": "median_order_valie", "description": null, "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "median_order_valie", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "median_order_valie", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}, {"name": "order_value_p99", "description": null, "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "order_value_p99", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "order_value_p99", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}, {"name": "discrete_order_value_p99", "description": null, "type": "measure_proxy", "type_params": {"measure": null, "measures": [{"name": "discrete_order_value_p99", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "discrete_order_value_p99", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}]}