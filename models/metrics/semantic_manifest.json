{"semantic_models": [{"name": "orders", "defaults": {"agg_time_dimension": "ds"}, "description": "Model containting order data. The grain of the table is the order id.\n", "node_relation": {"alias": "orders", "schema_name": "dbt_sl_test", "database": null, "relation_name": "dbt_sl_test.orders"}, "entities": [{"name": "order", "description": null, "type": "primary", "role": null, "expr": "order_id", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order\ntype: primary\nexpr: order_id\n", "start_line_number": 16, "end_line_number": 18}}}, {"name": "location", "description": null, "type": "foreign", "role": null, "expr": "location_id", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: location\ntype: foreign\nexpr: location_id\n", "start_line_number": 19, "end_line_number": 21}}}, {"name": "customer", "description": null, "type": "foreign", "role": null, "expr": "customer_id", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: customer\ntype: foreign\nexpr: customer_id\n", "start_line_number": 22, "end_line_number": 26}}}], "measures": [{"name": "order_total", "agg": "sum", "description": null, "create_metric": true, "expr": null, "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order_total\nagg: sum\ncreate_metric: True\n", "start_line_number": 28, "end_line_number": 30}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "food_orders", "agg": "sum", "description": null, "create_metric": null, "expr": "case when is_food_order then order_total else 0 end", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: food_orders\nexpr: case when is_food_order then order_total else 0 end\nagg: sum\n", "start_line_number": 31, "end_line_number": 33}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "orders", "agg": "sum", "description": null, "create_metric": null, "expr": "1", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: orders\nexpr: 1\nagg: sum\n", "start_line_number": 34, "end_line_number": 36}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "max_order_value", "agg": "max", "description": null, "create_metric": null, "expr": "order_total", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: max_order_value\nexpr: order_total\nagg: max\n", "start_line_number": 37, "end_line_number": 39}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "min_order_value", "agg": "min", "description": null, "create_metric": null, "expr": "order_total", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: min_order_value\nexpr: order_total\nagg: min\n", "start_line_number": 40, "end_line_number": 42}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "customers", "agg": "count_distinct", "description": null, "create_metric": null, "expr": "customer_id", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: customers\nexpr: customer_id\nagg: count_distinct\n", "start_line_number": 43, "end_line_number": 45}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "average_order_value", "agg": "average", "description": null, "create_metric": null, "expr": "order_total", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: average_order_value\nexpr: order_total\nagg: average\n", "start_line_number": 46, "end_line_number": 48}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "order_cost", "agg": "sum", "description": null, "create_metric": null, "expr": null, "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order_cost\nagg: sum\n", "start_line_number": 49, "end_line_number": 50}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "locations_with_orders", "agg": "count_distinct", "description": null, "create_metric": true, "expr": "location_id", "agg_params": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: locations_with_orders\nexpr: location_id\nagg: count_distinct\ncreate_metric: true\n", "start_line_number": 51, "end_line_number": 54}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "median_order_valie", "agg": "percentile", "description": null, "create_metric": true, "expr": "order_total", "agg_params": {"percentile": 0.5, "use_discrete_percentile": false, "use_approximate_percentile": false}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: median_order_valie\nexpr: order_total\nagg: median\ncreate_metric: true\n", "start_line_number": 55, "end_line_number": 58}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "order_value_p99", "agg": "percentile", "description": null, "create_metric": true, "expr": "order_total", "agg_params": {"percentile": 0.99, "use_discrete_percentile": false, "use_approximate_percentile": false}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order_value_p99\nexpr: order_total\nagg: percentile\nagg_params:\n  percentile: 0.99\ncreate_metric: true\n", "start_line_number": 59, "end_line_number": 64}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}, {"name": "discrete_order_value_p99", "agg": "percentile", "description": null, "create_metric": true, "expr": "order_total", "agg_params": {"percentile": 0.99, "use_discrete_percentile": true, "use_approximate_percentile": false}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: discrete_order_value_p99\nexpr: order_total\nagg: percentile\nagg_params:\n  percentile: 0.99\n  use_discrete_percentile: true\ncreate_metric: true\n", "start_line_number": 65, "end_line_number": 73}}, "non_additive_dimension": null, "agg_time_dimension": "ds"}], "dimensions": [{"name": "location_name", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: location_name\ntype: categorical\n", "start_line_number": 75, "end_line_number": 76}}}, {"name": "ds", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "ordered_at", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: ds\nexpr: ordered_at\ntype: time\ntype_params:\n  time_granularity: day\n", "start_line_number": 77, "end_line_number": 81}}}, {"name": "is_food_order", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: is_food_order\ntype: categorical\n", "start_line_number": 82, "end_line_number": 83}}}, {"name": "is_drink_order", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: is_drink_order\ntype: categorical\n", "start_line_number": 84, "end_line_number": 85}}}, {"name": "order_total_dim", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": "order_total", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: order_total_dim\ntype: categorical\nexpr: order_total\n", "start_line_number": 86, "end_line_number": 88}}}], "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/orders.yaml", "file_slice": {"filename": "orders.yaml", "content": "name: orders\ndescription: |\n  Model containting order data. The grain of the table is the order id.\nnode_relation:\n  schema_name: dbt_sl_test\n  alias: orders\ndefaults:\n  agg_time_dimension: ds\nentities:\n- name: order\n  type: primary\n  expr: order_id\n- name: location\n  type: foreign\n  expr: location_id\n- name: customer\n  type: foreign\n  expr: customer_id\nmeasures:\n- name: order_total\n  agg: sum\n  create_metric: True\n- name: food_orders\n  expr: case when is_food_order then order_total else 0 end\n  agg: sum\n- name: orders\n  expr: 1\n  agg: sum\n- name: max_order_value\n  expr: order_total\n  agg: max\n- name: min_order_value\n  expr: order_total\n  agg: min\n- name: customers\n  expr: customer_id\n  agg: count_distinct\n- name: average_order_value\n  expr: order_total\n  agg: average\n- name: order_cost\n  agg: sum\n- name: locations_with_orders\n  expr: location_id\n  agg: count_distinct\n  create_metric: true\n- name: median_order_valie\n  expr: order_total\n  agg: median\n  create_metric: true\n- name: order_value_p99\n  expr: order_total\n  agg: percentile\n  agg_params:\n    percentile: 0.99\n  create_metric: true\n- name: discrete_order_value_p99\n  expr: order_total\n  agg: percentile\n  agg_params:\n    percentile: 0.99\n    use_discrete_percentile: true\n  create_metric: true\ndimensions:\n- name: location_name\n  type: categorical\n- name: ds\n  expr: ordered_at\n  type: time\n  type_params:\n    time_granularity: day\n- name: is_food_order\n  type: categorical\n- name: is_drink_order\n  type: categorical\n- name: order_total_dim\n  type: categorical\n  expr: order_total\n", "start_line_number": 4, "end_line_number": 88}}}, {"name": "customers", "defaults": {"agg_time_dimension": "first_ordered_at"}, "description": "Customer dimension table. The grain of the table is one row per customer.\n", "node_relation": {"alias": "customers", "schema_name": "dbt_sl_test", "database": null, "relation_name": "dbt_sl_test.customers"}, "entities": [{"name": "customer", "description": null, "type": "primary", "role": null, "expr": "customer_id", "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: customer\ntype: primary\nexpr: customer_id\n", "start_line_number": 16, "end_line_number": 20}}}], "measures": [], "dimensions": [{"name": "customer_name", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: customer_name\ntype: categorical\n", "start_line_number": 22, "end_line_number": 23}}}, {"name": "count_lifetime_orders", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: count_lifetime_orders\ntype: categorical\n", "start_line_number": 24, "end_line_number": 25}}}, {"name": "lifetime_spend_pre_tax", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: lifetime_spend_pre_tax\ntype: categorical\n", "start_line_number": 26, "end_line_number": 27}}}, {"name": "lifetime_spend", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: lifetime_spend\ntype: categorical\n", "start_line_number": 28, "end_line_number": 29}}}, {"name": "customer_type", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: customer_type\ntype: categorical\n", "start_line_number": 30, "end_line_number": 31}}}, {"name": "first_ordered_at", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: first_ordered_at\ntype: time\ntype_params:\n  time_granularity: day\n", "start_line_number": 32, "end_line_number": 35}}}, {"name": "last_ordered_at", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": null, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: last_ordered_at\ntype: time\ntype_params:\n  time_granularity: day\n", "start_line_number": 36, "end_line_number": 39}}}], "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/customers.yaml", "file_slice": {"filename": "customers.yaml", "content": "name: customers\ndefaults:\n  agg_time_dimension: first_ordered_at\ndescription: |\n  Customer dimension table. The grain of the table is one row per customer.\nnode_relation:\n  schema_name: dbt_sl_test\n  alias: customers\nentities:\n- name: customer\n  type: primary\n  expr: customer_id\ndimensions:\n- name: customer_name\n  type: categorical\n- name: count_lifetime_orders\n  type: categorical\n- name: lifetime_spend_pre_tax\n  type: categorical\n- name: lifetime_spend\n  type: categorical\n- name: customer_type\n  type: categorical\n- name: first_ordered_at\n  type: time\n  type_params:\n    time_granularity: day\n- name: last_ordered_at\n  type: time\n  type_params:\n    time_granularity: day\n", "start_line_number": 4, "end_line_number": 39}}}], "metrics": [{"name": "east_coast_order_amount", "description": "Sum of orders from the east coast.", "type": "simple", "type_params": {"measure": null, "measures": [{"name": "orders", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": null}, "filter": {"where_sql_template": "{{dimension('location_name')}} in ('Philadelphia')\n"}, "metadata": {"repo_file_path": "/Users/jordanstein/Dev/jaffle-sl-template/models/metrics/example_metrics.yaml", "file_slice": {"filename": "example_metrics.yaml", "content": "name: \"east_coast_order_amount\"\ndescription: \"Sum of orders from the east coast.\"\ntype: simple\ntype_params:\n  measures:\n  - orders\nfilter: |\n  {{dimension('location_name')}} in ('Philadelphia')\n", "start_line_number": 2, "end_line_number": 196}}}, {"name": "order_total", "description": null, "type": "simple", "type_params": {"measure": null, "measures": [{"name": "order_total", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "order_total", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}, {"name": "locations_with_orders", "description": null, "type": "simple", "type_params": {"measure": null, "measures": [{"name": "locations_with_orders", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "locations_with_orders", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}, {"name": "median_order_valie", "description": null, "type": "simple", "type_params": {"measure": null, "measures": [{"name": "median_order_valie", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "median_order_valie", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}, {"name": "order_value_p99", "description": null, "type": "simple", "type_params": {"measure": null, "measures": [{"name": "order_value_p99", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "order_value_p99", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}, {"name": "discrete_order_value_p99", "description": null, "type": "simple", "type_params": {"measure": null, "measures": [{"name": "discrete_order_value_p99", "filter": null, "alias": null}], "numerator": null, "denominator": null, "expr": "discrete_order_value_p99", "window": null, "grain_to_date": null, "metrics": null}, "filter": null, "metadata": null}], "interfaces_version": "0.1.0.dev4"}